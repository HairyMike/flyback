{"code":"import Logger from './logger';\r\nexport const RecordModes = ['NEW', 'OVERWRITE', 'DISABLED'];\r\nexport const FallbackModes = ['NOT_FOUND', 'PROXY'];\r\nconst defaultOptions = {\r\n    talkbackUrl: 'localhost:8080',\r\n    record: 'NEW',\r\n    fallbackMode: 'NOT_FOUND',\r\n    name: 'unnamed',\r\n    ignoreHeaders: ['content-length', 'host'],\r\n    ignoreAllHeaders: false,\r\n    ignoreQueryParams: [],\r\n    ignoreBody: false,\r\n    silent: false,\r\n    summary: true,\r\n    debug: false,\r\n    logger: new Logger(),\r\n};\r\nexport class Opts {\r\n    static prepare(userOpts) {\r\n        this.validateOptions(userOpts);\r\n        const opts = Object.assign({}, defaultOptions, { name: userOpts.proxyUrl, logger: new Logger(userOpts) }, userOpts);\r\n        return opts;\r\n    }\r\n    static validateOptions(opts) {\r\n        this.validateRecord(opts.record);\r\n        this.validateFallbackMode(opts.fallbackMode);\r\n    }\r\n    static validateRecord(record) {\r\n        if (typeof record === 'string' && !RecordModes.includes(record)) {\r\n            throw new Error(`INVALID OPTION: record has an invalid value of '${record}'`);\r\n        }\r\n    }\r\n    static validateFallbackMode(fallbackMode) {\r\n        if (typeof fallbackMode === 'string' && !FallbackModes.includes(fallbackMode)) {\r\n            throw new Error(`INVALID OPTION: fallbackMode has an invalid value of '${fallbackMode}'`);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=options.js.map","map":"{\"version\":3,\"file\":\"options.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/options.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,MAAM,MAAM,UAAU,CAAC;AAY9B,MAAM,CAAC,MAAM,WAAW,GAAiB,CAAC,KAAK,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC;AAC1E,MAAM,CAAC,MAAM,aAAa,GAAmB,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;AA2BpE,MAAM,cAAc,GAAG;IACrB,WAAW,EAAE,gBAAgB;IAC7B,MAAM,EAAE,KAAwD;IAChE,YAAY,EAAE,WAAkE;IAChF,IAAI,EAAE,SAAS;IACf,aAAa,EAAE,CAAC,gBAAgB,EAAE,MAAM,CAAC;IACzC,gBAAgB,EAAE,KAAK;IACvB,iBAAiB,EAAE,EAAE;IACrB,UAAU,EAAE,KAAK;IACjB,MAAM,EAAE,KAAK;IACb,OAAO,EAAE,IAAI;IACb,KAAK,EAAE,KAAK;IACZ,MAAM,EAAE,IAAI,MAAM,EAAE;CACrB,CAAC;AAIF,MAAM,OAAO,IAAI;IACf,MAAM,CAAC,OAAO,CAAC,QAAqB;QAClC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;QAE/B,MAAM,IAAI,qBACL,cAAc,IACjB,IAAI,EAAE,QAAQ,CAAC,QAAQ,EACvB,MAAM,EAAE,IAAI,MAAM,CAAC,QAAQ,CAAC,IACzB,QAAQ,CACZ,CAAC;QAEF,OAAO,IAAI,CAAC;IACd,CAAC;IAEO,MAAM,CAAC,eAAe,CAAC,IAAiB;QAC9C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC/C,CAAC;IAEM,MAAM,CAAC,cAAc,CAAC,MAAwD;QACnF,IAAI,OAAO,MAAM,KAAK,QAAQ,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;YAC/D,MAAM,IAAI,KAAK,CAAC,mDAAmD,MAAM,GAAG,CAAC,CAAC;SAC/E;IACH,CAAC;IAEM,MAAM,CAAC,oBAAoB,CAChC,YAAkE;QAElE,IAAI,OAAO,YAAY,KAAK,QAAQ,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;YAC7E,MAAM,IAAI,KAAK,CAAC,yDAAyD,YAAY,GAAG,CAAC,CAAC;SAC3F;IACH,CAAC;CACF\"}"}
