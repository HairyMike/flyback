{"code":"import contentTypeParser from 'content-type';\r\nimport { HeadersUtil } from './headers';\r\nexport const jsonTypes = ['application/json'];\r\nconst humanReadableContentTypes = [\r\n    'application/javascript',\r\n    'text/css',\r\n    'text/html',\r\n    'text/javascript',\r\n    'text/plain',\r\n    ...jsonTypes,\r\n];\r\nexport default class MediaType {\r\n    constructor(htmlReqRes) {\r\n        this.htmlReqRes = htmlReqRes;\r\n    }\r\n    isHumanReadable() {\r\n        const contentEncoding = HeadersUtil.read(this.headers(), 'content-encoding');\r\n        const notCompressed = !contentEncoding || contentEncoding === 'identity';\r\n        const contentType = this.contentType();\r\n        if (!contentType) {\r\n            return false;\r\n        }\r\n        return notCompressed && humanReadableContentTypes.indexOf(contentType.type) >= 0;\r\n    }\r\n    isJSON() {\r\n        const contentType = this.contentType();\r\n        if (!contentType) {\r\n            return false;\r\n        }\r\n        return jsonTypes.indexOf(contentType.type) >= 0;\r\n    }\r\n    contentType() {\r\n        const contentType = HeadersUtil.read(this.headers(), 'content-type');\r\n        if (!contentType) {\r\n            return null;\r\n        }\r\n        return contentTypeParser.parse(contentType);\r\n    }\r\n    headers() {\r\n        return this.htmlReqRes.headers;\r\n    }\r\n}\r\n//# sourceMappingURL=media-type.js.map","map":"{\"version\":3,\"file\":\"media-type.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/utils/media-type.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,iBAAiB,MAAM,cAAc,CAAC;AAC7C,OAAO,EAAE,WAAW,EAAW,MAAM,WAAW,CAAC;AAGjD,MAAM,CAAC,MAAM,SAAS,GAAG,CAAC,kBAAkB,CAAC,CAAC;AAE9C,MAAM,yBAAyB,GAAG;IAChC,wBAAwB;IACxB,UAAU;IACV,WAAW;IACX,iBAAiB;IACjB,YAAY;IACZ,GAAG,SAAS;CACb,CAAC;AAEF,MAAM,CAAC,OAAO,OAAO,SAAS;IAG5B,YAAY,UAA6B;QACvC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;IAC/B,CAAC;IAED,eAAe;QACb,MAAM,eAAe,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,kBAAkB,CAAC,CAAC;QAC7E,MAAM,aAAa,GAAG,CAAC,eAAe,IAAI,eAAe,KAAK,UAAU,CAAC;QAEzE,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAEvC,IAAI,CAAC,WAAW,EAAE;YAChB,OAAO,KAAK,CAAC;SACd;QAED,OAAO,aAAa,IAAI,yBAAyB,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACnF,CAAC;IAED,MAAM;QACJ,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAEvC,IAAI,CAAC,WAAW,EAAE;YAChB,OAAO,KAAK,CAAC;SACd;QAED,OAAO,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAClD,CAAC;IAED,WAAW;QACT,MAAM,WAAW,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,cAAc,CAAC,CAAC;QAErE,IAAI,CAAC,WAAW,EAAE;YAChB,OAAO,IAAI,CAAC;SACb;QAED,OAAO,iBAAiB,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;IAC9C,CAAC;IAED,OAAO;QACL,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;IACjC,CAAC;CACF\"}"}
